<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–èˆªç©ºæ©ŸæŠ•è³‡ã‚­ãƒ£ãƒªã‚¢ã‚¬ã‚¤ãƒ‰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals with Blue/Green Accents -->
    <!-- Application Structure Plan: A top-down narrative flow designed for a graduate student user. It starts with a high-level "What & Why" dashboard to grab attention, moves to "Who" are the key market players with interactive comparisons, then dives into the core user need: "How" to get a job, with an interactive career navigator. It concludes with "What else" to consider (risks). This structure guides the user from general interest to specific, actionable career information, making a complex report digestible and personally relevant. -->
    <!-- Visualization & Content Choices: 
        1. Market Recovery (Report Info) -> Goal: Inform -> Viz: Line Chart (Chart.js) -> Interaction: Hover for details -> Justification: Shows trend over time effectively.
        2. JOL Scheme (Report Info) -> Goal: Organize -> Viz: HTML/CSS Flowchart -> Interaction: Static visual -> Justification: Simplifies a complex legal/financial process into easy-to-follow steps.
        3. Company Fleet Size (Report Info) -> Goal: Compare -> Viz: Horizontal Bar Chart (Chart.js) -> Interaction: Click bar to see company details -> Justification: Best for ranking and direct comparison. Interaction provides deeper info without clutter.
        4. Career Path Skills (Report Info) -> Goal: Compare/Inform -> Viz: Radar Chart (Chart.js) -> Interaction: Select role to update chart -> Justification: Excellent for comparing multi-dimensional skill profiles for different roles.
        5. Risks & Hedges (Report Info) -> Goal: Organize -> Viz: HTML/JS Accordion -> Interaction: Click to expand -> Justification: Breaks down dense text into manageable, user-triggered chunks.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #F8F7F4; color: #333; }
        .bg-warm-neutral { background-color: #F8F7F4; }
        .bg-card { background-color: #FFFFFF; }
        .text-primary { color: #0D3D56; }
        .text-secondary { color: #5A7D8E; }
        .accent-bg { background-color: #007A7A; }
        .accent-text { color: #007A7A; }
        .accent-border { border-color: #007A7A; }
        .nav-button { transition: all 0.3s ease; }
        .nav-button.active { color: #FFFFFF; background-color: #0D3D56; }
        .nav-button:not(.active):hover { background-color: #EAE8E3; }
        .content-section { display: none; }
        .content-section.active { display: block; }
        .chart-container { position: relative; width: 100%; max-width: 800px; margin-left: auto; margin-right: auto; height: 350px; max-height: 50vh; }
        @media (max-width: 768px) { .chart-container { height: 300px; } }
        .role-skill-chart-container { position: relative; width: 100%; max-width: 500px; margin-left: auto; margin-right: auto; height: 350px; }
        .company-card { transition: transform 0.3s, box-shadow 0.3s; }
        .company-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4); justify-content: center; align-items: center; }
        .modal-content { background-color: #fefefe; margin: auto; padding: 20px; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); max-width: 600px; width: 90%; position: relative; }
        .close-button { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
        .close-button:hover, .close-button:focus { color: black; text-decoration: none; cursor: pointer; }
        .loading-spinner { border: 4px solid #f3f3f3; border-top: 4px solid #007A7A; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-warm-neutral">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-5xl font-bold text-primary mb-2">èˆªç©ºæ©ŸæŠ•è³‡ã®ä¸–ç•Œã¸ã‚ˆã†ã“ã</h1>
            <p class="text-md md:text-lg text-secondary">å¤§å­¦é™¢ç”Ÿã®ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ»ã‚­ãƒ£ãƒªã‚¢ã‚¬ã‚¤ãƒ‰</p>
        </header>

        <nav class="flex justify-center mb-12 bg-white rounded-full shadow-md p-2 sticky top-4 z-10">
            <button data-target="overview" class="nav-button active font-semibold py-2 px-6 rounded-full">æ¦‚è¦³</button>
            <button data-target="players" class="nav-button font-semibold py-2 px-6 rounded-full">ä¸»è¦ä¼æ¥­</button>
            <button data-target="careers" class="nav-button font-semibold py-2 px-6 rounded-full">ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹</button>
            <button data-target="risks" class="nav-button font-semibold py-2 px-6 rounded-full">ãƒªã‚¹ã‚¯</button>
        </nav>

        <main>
            <section id="overview" class="content-section active">
                <div class="text-center mb-12">
                    <h2 class="text-2xl md:text-3xl font-bold text-primary mb-2">ãªãœä»Šã€èˆªç©ºæ©ŸæŠ•è³‡ãªã®ã‹ï¼Ÿ</h2>
                    <p class="text-secondary max-w-3xl mx-auto">ãƒ‘ãƒ³ãƒ‡ãƒŸãƒƒã‚¯å¾Œã®åŠ›å¼·ã„å›å¾©ã¨ã€ç‹¬è‡ªã®ç¨åˆ¶ä¸Šã®ãƒ¡ãƒªãƒƒãƒˆã«ã‚ˆã‚Šã€èˆªç©ºæ©Ÿã¯å®‰å®šã—ãŸæˆé•·ãŒè¦‹è¾¼ã‚ã‚‹é­…åŠ›çš„ãªæŠ•è³‡å¯¾è±¡ã¨ãªã£ã¦ã„ã¾ã™ã€‚ã“ã“ã§ã¯ãã®åŸºæœ¬æ§‹é€ ã¨å¸‚å ´ã®å¯èƒ½æ€§ã‚’æ¢ã‚Šã¾ã™ã€‚</p>
                </div>

                <div class="grid md:grid-cols-2 gap-8 items-center mb-12">
                    <div class="bg-card p-6 rounded-xl shadow-lg">
                         <h3 class="text-xl font-bold text-primary mb-4 text-center">æ—…å®¢éœ€è¦ã®Vå­—å›å¾©</h3>
                         <div class="chart-container h-64 md:h-80">
                            <canvas id="demandChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-card p-6 rounded-xl shadow-lg">
                        <h3 class="text-xl font-bold text-primary mb-4">æŠ•è³‡ã®é­…åŠ›</h3>
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <div class="accent-bg text-white rounded-full h-8 w-8 flex-shrink-0 flex items-center justify-center mr-4 mt-1">ğŸ“ˆ</div>
                                <div>
                                    <h4 class="font-bold text-primary">æŒç¶šçš„ãªæˆé•·æ€§</h4>
                                    <p class="text-secondary text-sm">ä¸–ç•Œã®æ—…å®¢éœ€è¦ã¯å¹´ç‡3-4%ã§ã®æˆé•·ãŒè¦‹è¾¼ã¾ã‚Œã€èˆªç©ºæ©Ÿã¸ã®éœ€è¦ã¯ä»Šå¾Œã‚‚å …èª¿ã«æ¨ç§»ã™ã‚‹è¦‹é€šã—ã§ã™ã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="accent-bg text-white rounded-full h-8 w-8 flex-shrink-0 flex items-center justify-center mr-4 mt-1">ğŸ’°</div>
                                <div>
                                    <h4 class="font-bold text-primary">ç¨åˆ¶ä¸Šã®ãƒ¡ãƒªãƒƒãƒˆ</h4>
                                    <p class="text-secondary text-sm">æ—¥æœ¬å‹ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒªãƒ¼ã‚¹ï¼ˆJOLï¼‰ã¯ã€åŒ¿åçµ„åˆã®æå¤±ã‚’èªè­˜ã™ã‚‹ã“ã¨ã§åˆ©ç›Šã‚’ç¹°ã‚Šå»¶ã¹ã€ç¯€ç¨åŠ¹æœãŒæœŸå¾…ã§ãã‚‹é‡‘èå•†å“ã§ã™ã€‚</p>
                                </div>
                            </div>
                             <div class="flex items-start">
                                <div class="accent-bg text-white rounded-full h-8 w-8 flex-shrink-0 flex items-center justify-center mr-4 mt-1">âœˆï¸</div>
                                <div>
                                    <h4 class="font-bold text-primary">ä¾›çµ¦åˆ¶ç´„ã«ã‚ˆã‚‹ä¾¡å€¤ç¶­æŒ</h4>
                                    <p class="text-secondary text-sm">ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ã®èª²é¡Œãªã©ã«ã‚ˆã‚‹ä¾›çµ¦ä¸è¶³ãŒã€æ—¢å­˜èˆªç©ºæ©Ÿã®ä¾¡å€¤ã¨ãƒªãƒ¼ã‚¹æ–™ã‚’å®‰å®šã•ã›ã‚‹è¦å› ã¨ãªã£ã¦ã„ã¾ã™ã€‚</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="text-xl md:text-2xl font-bold text-primary mb-6 text-center">æ—¥æœ¬å‹ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒªãƒ¼ã‚¹ï¼ˆJOLï¼‰ã®ä»•çµ„ã¿</h3>
                    <div class="relative grid grid-cols-1 md:grid-cols-4 gap-4 text-center">
                        <div class="absolute top-1/2 left-0 w-full h-0.5 bg-gray-300 hidden md:block"></div>
                         <div class="absolute top-1/2 left-0 w-full flex justify-around hidden md:flex">
                            <div class="w-1/4 flex justify-center"><span class="text-2xl text-secondary -mt-10">â†’</span></div>
                            <div class="w-1/4 flex justify-center"><span class="text-2xl text-secondary -mt-10">â†’</span></div>
                            <div class="w-1/4 flex justify-center"><span class="text-2xl text-secondary -mt-10">â†’</span></div>
                        </div>
                        <div class="md:hidden absolute left-1/2 h-full w-0.5 bg-gray-300 top-0"></div>
                        
                        <div class="z-10 p-4 bg-card rounded-lg shadow-md">
                            <div class="accent-bg text-white rounded-full h-12 w-12 flex items-center justify-center mx-auto mb-2 text-xl font-bold">1</div>
                            <h4 class="font-bold text-primary">è³‡é‡‘èª¿é”</h4>
                            <p class="text-sm text-secondary">ãƒªãƒ¼ã‚¹ä¼šç¤¾ãŒåŒ¿åçµ„åˆã‚’çµ„æˆã—ã€æ³•äººæŠ•è³‡å®¶ã‹ã‚‰è³‡é‡‘ã‚’é›†ã‚ã¾ã™ã€‚</p>
                        </div>
                        <div class="z-10 p-4 bg-card rounded-lg shadow-md">
                             <div class="accent-bg text-white rounded-full h-12 w-12 flex items-center justify-center mx-auto mb-2 text-xl font-bold">2</div>
                            <h4 class="font-bold text-primary">èˆªç©ºæ©Ÿè³¼å…¥</h4>
                            <p class="text-sm text-secondary">é›†ã‚ãŸè³‡é‡‘ã§ãƒ¡ãƒ¼ã‚«ãƒ¼ã‹ã‚‰èˆªç©ºæ©Ÿã‚’è³¼å…¥ã—ã¾ã™ã€‚</p>
                        </div>
                        <div class="z-10 p-4 bg-card rounded-lg shadow-md">
                             <div class="accent-bg text-white rounded-full h-12 w-12 flex items-center justify-center mx-auto mb-2 text-xl font-bold">3</div>
                            <h4 class="font-bold text-primary">ãƒªãƒ¼ã‚¹å¥‘ç´„</h4>
                            <p class="text-sm text-secondary">èˆªç©ºä¼šç¤¾ã«æ©Ÿä½“ã‚’è²¸ã—å‡ºã—ã€ãƒªãƒ¼ã‚¹æ–™ã‚’å¾—ã¾ã™ã€‚</p>
                        </div>
                        <div class="z-10 p-4 bg-card rounded-lg shadow-md">
                           <div class="accent-bg text-white rounded-full h-12 w-12 flex items-center justify-center mx-auto mb-2 text-xl font-bold">4</div>
                            <h4 class="font-bold text-primary">åˆ©ç›Šåˆ†é…</h4>
                            <p class="text-sm text-secondary">ãƒªãƒ¼ã‚¹æº€äº†å¾Œã€æ©Ÿä½“ã‚’å£²å´ã—ã€å£²å´ç›Šã¨ãƒªãƒ¼ã‚¹æ–™ã‚’æŠ•è³‡å®¶ã«åˆ†é…ã—ã¾ã™ã€‚</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="players" class="content-section">
                 <div class="text-center mb-12">
                    <h2 class="text-2xl md:text-3xl font-bold text-primary mb-2">ä¸–ç•Œã®ç©ºã‚’å‹•ã‹ã™æ—¥æœ¬ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼</h2>
                    <p class="text-secondary max-w-3xl mx-auto">æ—¥ç³»ä¼æ¥­ã¯M&Aãªã©ã‚’é€šã˜ã¦ã€ä¸–ç•Œã®èˆªç©ºæ©Ÿãƒªãƒ¼ã‚¹å¸‚å ´ã§å¤§ããªå­˜åœ¨æ„Ÿã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã“ã“ã§ã¯ã€ä¸»è¦ãªä¼æ¥­ã®è¦æ¨¡ã¨ç‰¹å¾´ã‚’ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚</p>
                </div>
                <div class="grid lg:grid-cols-5 gap-8">
                    <div class="lg:col-span-3 bg-card p-6 rounded-xl shadow-lg">
                        <h3 class="text-xl font-bold text-primary mb-4 text-center">æ—¥ç³»ä¸»è¦ä¼æ¥­ã®ä¿æœ‰æ©Ÿææ•°ï¼ˆä¸–ç•Œãƒ©ãƒ³ã‚¯ï¼‰</h3>
                         <div class="chart-container">
                            <canvas id="companyChart"></canvas>
                        </div>
                    </div>
                    <div id="companyDetail" class="lg:col-span-2 bg-card p-6 rounded-xl shadow-lg flex flex-col justify-center">
                        <h3 class="text-xl font-bold text-primary mb-4 text-center">ä¼æ¥­è©³ç´°</h3>
                        <p class="text-secondary text-center">ãƒãƒ£ãƒ¼ãƒˆã®é …ç›®ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°ã‚’è¡¨ç¤º</p>
                    </div>
                </div>
            </section>

            <section id="careers" class="content-section">
                <div class="text-center mb-12">
                    <h2 class="text-2xl md:text-3xl font-bold text-primary mb-2">èˆªç©ºæ©ŸæŠ•è³‡åˆ†é‡ã§ã®ã‚­ãƒ£ãƒªã‚¢ã‚’æ´ã‚€</h2>
                    <p class="text-secondary max-w-3xl mx-auto">å¤§å­¦é™¢ã§ã®å­¦ã³ã‚’æ´»ã‹ã›ã‚‹å¤šæ§˜ãªè·ç¨®ãŒå­˜åœ¨ã—ã¾ã™ã€‚ã“ã“ã§ã¯ã€ä»£è¡¨çš„ãªè·ç¨®ã¨æ±‚ã‚ã‚‰ã‚Œã‚‹ã‚¹ã‚­ãƒ«ã€ãã—ã¦ä¸»è¦ä¼æ¥­ã®æ¡ç”¨æƒ…å ±ã‚’ãƒŠãƒ“ã‚²ãƒ¼ãƒˆã—ã¾ã™ã€‚</p>
                </div>
                <div class="bg-card p-6 rounded-xl shadow-lg mb-12">
                    <h3 class="text-xl md:text-2xl font-bold text-primary mb-6 text-center">è·ç¨®ã¨æ±‚ã‚ã‚‰ã‚Œã‚‹ã‚¹ã‚­ãƒ«</h3>
                     <div class="grid md:grid-cols-3 gap-8">
                        <div class="md:col-span-1">
                            <p class="text-primary font-semibold mb-2">æ¢ã—ãŸã„è·ç¨®ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼š</p>
                            <div id="roleSelector" class="flex flex-col space-y-2">
                                <!-- Role buttons will be injected here -->
                            </div>
                        </div>
                        <div class="md:col-span-2">
                            <div class="role-skill-chart-container">
                                <canvas id="skillRadarChart"></canvas>
                            </div>
                            <div id="roleDescription" class="mt-4 text-secondary text-sm p-4 bg-warm-neutral rounded-lg">
                                 è·ç¨®ã‚’é¸æŠã™ã‚‹ã¨ã€ã“ã“ã«æ¥­å‹™å†…å®¹ã®èª¬æ˜ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
                                <button id="generateQuestionsButton" class="mt-4 w-full bg-accent-bg text-white py-2 px-4 rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2">
                                    <span class="text-lg">âœ¨</span> é¢æ¥å¯¾ç­–ã®è³ªå•ã‚’ç”Ÿæˆ
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                 <div class="bg-card p-6 rounded-xl shadow-lg">
                     <h3 class="text-xl md:text-2xl font-bold text-primary mb-6 text-center">å¤§å­¦é™¢ç”Ÿå‘ã‘æ–°å’æ¡ç”¨æƒ…å ±</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="companyGrid">
                        <!-- Company cards will be injected here -->
                     </div>
                </div>
            </section>
            
            <section id="risks" class="content-section">
                <div class="text-center mb-12">
                    <h2 class="text-2xl md:text-3xl font-bold text-primary mb-2">æŠ•è³‡ã«ä¼´ã†ãƒªã‚¹ã‚¯ã¨å¯¾ç­–</h2>
                    <p class="text-secondary max-w-3xl mx-auto">é«˜ã„ãƒªã‚¿ãƒ¼ãƒ³ãŒæœŸå¾…ã§ãã‚‹ä¸€æ–¹ã€ç‰¹æœ‰ã®ãƒªã‚¹ã‚¯ã‚‚å­˜åœ¨ã—ã¾ã™ã€‚ã“ã“ã§ã¯ä¸»è¦ãªãƒªã‚¹ã‚¯ã¨ã€ãã‚Œã‚‰ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®æˆ¦ç•¥ã‚’è§£èª¬ã—ã¾ã™ã€‚</p>
                </div>
                <div id="riskAccordion" class="space-y-4 max-w-4xl mx-auto">
                     <!-- Risk items will be injected here -->
                </div>
            </section>
        </main>
    </div>

    <!-- Interview Questions Modal -->
    <div id="interviewQuestionsModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3 class="text-xl font-bold text-primary mb-4 text-center">é¢æ¥å¯¾ç­–ã®è³ªå•</h3>
            <div id="interviewQuestionsContent">
                <div class="loading-spinner"></div>
                <p class="text-center text-secondary mt-4">è³ªå•ã‚’ç”Ÿæˆä¸­...</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const navButtons = document.querySelectorAll('.nav-button');
            const sections = document.querySelectorAll('.content-section');
            const generateQuestionsButton = document.getElementById('generateQuestionsButton');
            const interviewQuestionsModal = document.getElementById('interviewQuestionsModal');
            const interviewQuestionsContent = document.getElementById('interviewQuestionsContent');
            const closeButton = document.querySelector('.close-button');

            let currentRole = null; // To store the currently selected role for the LLM call

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.target;

                    navButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    sections.forEach(section => {
                        if (section.id === targetId) {
                            section.classList.add('active');
                        } else {
                            section.classList.remove('active');
                        }
                    });
                });
            });
            
            Chart.defaults.font.family = "'Noto Sans JP', sans-serif";

            const demandData = {
                labels: ['ã‚³ãƒ­ãƒŠç¦å‰', '2023å¹´8æœˆ', '2023å¹´12æœˆ', 'å°†æ¥äºˆæ¸¬'],
                datasets: [{
                    label: 'æ—…å®¢éœ€è¦ (ã‚³ãƒ­ãƒŠç¦å‰=100)',
                    data: [100, 109.2, 97.5, 115],
                    borderColor: '#007A7A',
                    backgroundColor: 'rgba(0, 122, 122, 0.1)',
                    fill: true,
                    tension: 0.1
                }]
            };

            const demandChartCtx = document.getElementById('demandChart').getContext('2d');
            new Chart(demandChartCtx, {
                type: 'line',
                data: demandData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        label += context.parsed.y;
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'æŒ‡æ•° (ã‚³ãƒ­ãƒŠç¦å‰=100)' }
                        }
                    }
                }
            });

            const companyData = {
                labels: ['SMFL (SMBC Aviation Capital)', 'æ±äº¬ã‚»ãƒ³ãƒãƒ¥ãƒªãƒ¼ (ACG)', 'ã‚ªãƒªãƒƒã‚¯ã‚¹ (ORIX Aviation)', 'ä¸‰è±HCã‚­ãƒ£ãƒ”ã‚¿ãƒ« (JSA)'],
                datasets: [{
                    label: 'ä¿æœ‰æ©Ÿææ•°ï¼ˆç´„ï¼‰',
                    data: [700, 400, 200, 180],
                    backgroundColor: ['#0D3D56', '#2E5F7E', '#5A7D8E', '#8FAAB8'],
                    borderColor: '#FFFFFF',
                    borderWidth: 1
                }]
            };

            const companyDetails = {
                'SMFL (SMBC Aviation Capital)': {
                    rank: 6,
                    strength: 'æ—¥ç³»æœ€å¤§è¦æ¨¡ã€‚å¤§æ‰‹é‡‘èã‚°ãƒ«ãƒ¼ãƒ—ã®å®‰å®šæ€§ã¨ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒå¼·ã¿ã€‚',
                    note: '2012å¹´ã«RBSã®èˆªç©ºæ©Ÿãƒªãƒ¼ã‚¹äº‹æ¥­ã‚’è²·åã—ã¦è¨­ç«‹ã€‚'
                },
                'æ±äº¬ã‚»ãƒ³ãƒãƒ¥ãƒªãƒ¼ (ACG)': {
                    rank: 11,
                    strength: '2019å¹´ã®å¤§å‹è²·åã«ã‚ˆã‚Šæ€¥æˆé•·ã€‚å¤šè§’çš„ãªé‡‘èã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã€‚',
                    note: 'Aviation Capital Groupã‚’ç´„3,200å„„å††ã§è²·åã€‚'
                },
                'ã‚ªãƒªãƒƒã‚¯ã‚¹ (ORIX Aviation)': {
                    rank: 17,
                    strength: 'å¤šè§’åŒ–çµŒå–¶ãŒå¼·ã¿ã€‚ä¸–ç•Œ3ä½ã®Avolonã«ã‚‚å‡ºè³‡ã—ã€æ¥­ç•Œã§ã®å­˜åœ¨æ„ŸãŒå¤§ãã„ã€‚',
                    note: '1991å¹´ã‹ã‚‰èˆªç©ºæ©Ÿãƒªãƒ¼ã‚¹äº‹æ¥­ã«å‚å…¥ã€‚'
                },
                'ä¸‰è±HCã‚­ãƒ£ãƒ”ã‚¿ãƒ« (JSA)': {
                    rank: 21,
                    strength: 'ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’æ´»ã‹ã—ã€é¡§å®¢ãƒ‹ãƒ¼ã‚ºã«åˆã‚ã›ãŸã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã€‚',
                    note: '2012å¹´ã«Jackson Square Aviationã‚’è²·åã€‚'
                }
            };
            
            const companyDetailEl = document.getElementById('companyDetail');
            const companyChartCtx = document.getElementById('companyChart').getContext('2d');
            const companyChart = new Chart(companyChartCtx, {
                type: 'bar',
                data: companyData,
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        title: { display: false }
                    },
                    scales: {
                        x: {
                            title: { display: true, text: 'ä¿æœ‰æ©Ÿææ•°ï¼ˆæ©Ÿï¼‰' }
                        }
                    },
                    onClick: (event, elements) => {
                        if (elements.length > 0) {
                            const index = elements[0].index;
                            const companyName = companyData.labels[index];
                            const details = companyDetails[companyName];
                            
                            companyDetailEl.innerHTML = `
                                <h3 class="text-xl font-bold text-primary mb-2 text-center">${companyName}</h3>
                                <p class="text-center text-secondary mb-4">ä¸–ç•Œãƒ©ãƒ³ã‚­ãƒ³ã‚°: <strong>${details.rank}ä½</strong></p>
                                <div class="space-y-3 text-sm">
                                    <div>
                                        <h4 class="font-semibold text-primary">ä¸»ãªå¼·ã¿:</h4>
                                        <p class="text-secondary">${details.strength}</p>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-primary">ç‰¹è¨˜äº‹é …:</h4>
                                        <p class="text-secondary">${details.note}</p>
                                    </div>
                                </div>
                            `;
                        }
                    }
                }
            });
            
            const rolesData = {
                'ã‚¢ã‚»ãƒƒãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ': {
                    description: 'èˆªç©ºæ©Ÿè³‡ç”£ã®ä¾¡å€¤ã‚’æœ€å¤§åŒ–ã™ã‚‹æˆ¦ç•¥ã‚’ä¼ç”»ãƒ»å®Ÿè¡Œã€‚ã‚¨ã‚³ãƒãƒŸã‚¯ã‚¹åˆ†æã€ãƒ•ã‚¡ãƒ³ãƒ‰çµ„æˆã€æŠ•è³‡å®¶é–‹æ‹“ãªã©ã€å¹…åºƒã„æ¥­å‹™ã‚’æ‹…ã†å¸ä»¤å¡”ã€‚',
                    skills: { 'è²¡å‹™åˆ†æ': 5, 'æ³•å‹™çŸ¥è­˜': 4, 'è‹±èªåŠ›': 5, 'äº¤æ¸‰åŠ›': 4, 'äº‹æ¥­æˆ¦ç•¥': 5, 'æŠ€è¡“ç†è§£': 2 }
                },
                'èˆªç©ºæ©Ÿãƒ•ã‚¡ã‚¤ãƒŠãƒ³ã‚¹': {
                    description: 'èˆªç©ºæ©Ÿã®å–å¾—è³‡é‡‘ã‚’æä¾›ã™ã‚‹é‡‘èã®ãƒ—ãƒ­ã€‚ã‚·ãƒ‹ã‚¢ãƒ­ãƒ¼ãƒ³ã®ã‚¢ãƒ¬ãƒ³ã‚¸ã‚„JOLã®ã‚¨ã‚¯ã‚¤ãƒ†ã‚£å¼•å—æ”¯æ´ãªã©ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªæ¡ˆä»¶ã«æºã‚ã‚‹ã€‚',
                    skills: { 'è²¡å‹™åˆ†æ': 5, 'æ³•å‹™çŸ¥è­˜': 3, 'è‹±èªåŠ›': 5, 'äº¤æ¸‰åŠ›': 5, 'äº‹æ¥­æˆ¦ç•¥': 3, 'æŠ€è¡“ç†è§£': 1 }
                },
                'ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒŠãƒ³ã‚¹': {
                    description: 'JOLãªã©ã®é‡‘èå•†å“ã‚’ã€Œä½œã‚Šå‡ºã™ã€å‰µé€ çš„ãªå½¹å‰²ã€‚ä¸–ç•Œä¸­ã®èˆªç©ºä¼šç¤¾ã‚„é‡‘èæ©Ÿé–¢ã¨é€£æºã—ã€æ•°åå„„ã€œæ•°ç™¾å„„å††è¦æ¨¡ã®å–å¼•ã‚’çµ„æˆã™ã‚‹ã€‚',
                    skills: { 'è²¡å‹™åˆ†æ': 4, 'æ³•å‹™çŸ¥è­˜': 4, 'è‹±èªåŠ›': 4, 'äº¤æ¸‰åŠ›': 3, 'äº‹æ¥­æˆ¦ç•¥': 4, 'æŠ€è¡“ç†è§£': 2 }
                },
                'å¯©æŸ»ãƒ»æ³•å‹™': {
                    description: 'ãƒªãƒ¼ã‚¹å¥‘ç´„ã®æ³•çš„ãƒªã‚¹ã‚¯ã‚’ç®¡ç†ã™ã‚‹å®ˆã‚Šã®è¦ã€‚å¥‘ç´„å¯©æŸ»ã€æ³•å‹™ç›¸è«‡ã€ä¿‚äº‰å¯¾å¿œãªã©ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªå¥‘ç´„ã®å®‰å…¨æ€§ã‚’æ‹…ä¿ã™ã‚‹ã€‚',
                    skills: { 'è²¡å‹™åˆ†æ': 2, 'æ³•å‹™çŸ¥è­˜': 5, 'è‹±èªåŠ›': 4, 'äº¤æ¸‰åŠ›': 4, 'äº‹æ¥­æˆ¦ç•¥': 2, 'æŠ€è¡“ç†è§£': 1 }
                },
                'ç·åˆå•†ç¤¾ï¼ˆèˆªç©ºéƒ¨é–€ï¼‰': {
                    description: 'èˆªç©ºæ©Ÿé–¢é€£ã®äº‹æ¥­æŠ•è³‡ã‚„ãƒˆãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãªã©ã€ã‚ˆã‚Šåºƒç¯„ãªãƒ“ã‚¸ãƒã‚¹é ˜åŸŸã‚’æ‹…å½“ã€‚ç·åˆå•†ç¤¾ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’æ´»ã‹ã—ãŸãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãªä»•äº‹ã€‚',
                    skills: { 'è²¡å‹™åˆ†æ': 3, 'æ³•å‹™çŸ¥è­˜': 3, 'è‹±èªåŠ›': 5, 'äº¤æ¸‰åŠ›': 5, 'äº‹æ¥­æˆ¦ç•¥': 5, 'æŠ€è¡“ç†è§£': 3 }
                }
            };
            
            const roleSelector = document.getElementById('roleSelector');
            const roleDescriptionEl = document.getElementById('roleDescription');
            const skillRadarCtx = document.getElementById('skillRadarChart').getContext('2d');
            let skillRadarChart;

            function updateRoleInfo(roleName) {
                const role = rolesData[roleName];
                currentRole = roleName; // Set current role for LLM call
                
                roleDescriptionEl.innerHTML = `
                    <p class="text-secondary text-sm">${role.description}</p>
                    <button id="generateQuestionsButton" class="mt-4 w-full bg-accent-bg text-white py-2 px-4 rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2">
                        <span class="text-lg">âœ¨</span> é¢æ¥å¯¾ç­–ã®è³ªå•ã‚’ç”Ÿæˆ
                    </button>
                `;

                if (skillRadarChart) {
                    skillRadarChart.data.datasets[0].data = Object.values(role.skills);
                    skillRadarChart.data.datasets[0].label = roleName;
                    skillRadarChart.update();
                } else {
                     skillRadarChart = new Chart(skillRadarCtx, {
                        type: 'radar',
                        data: {
                            labels: Object.keys(role.skills),
                            datasets: [{
                                label: roleName,
                                data: Object.values(role.skills),
                                fill: true,
                                backgroundColor: 'rgba(0, 122, 122, 0.2)',
                                borderColor: 'rgb(0, 122, 122)',
                                pointBackgroundColor: 'rgb(0, 122, 122)',
                                pointBorderColor: '#fff',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: 'rgb(0, 122, 122)'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                             scales: {
                                r: {
                                    angleLines: {
                                        display: true
                                    },
                                    suggestedMin: 0,
                                    suggestedMax: 5,
                                    ticks: {
                                        stepSize: 1
                                    }
                                }
                            },
                            plugins: {
                                legend: {
                                    position: 'top',
                                },
                                title: {
                                    display: true,
                                    text: 'æ±‚ã‚ã‚‰ã‚Œã‚‹ã‚¹ã‚­ãƒ«ã‚»ãƒƒãƒˆï¼ˆ5æ®µéšè©•ä¾¡ï¼‰'
                                }
                            }
                        }
                    });
                }
                document.getElementById('generateQuestionsButton').addEventListener('click', () => {
                    showInterviewQuestionsModal(currentRole, rolesData[currentRole].description);
                });
            }
            
            Object.keys(rolesData).forEach((roleName, index) => {
                const button = document.createElement('button');
                button.textContent = roleName;
                button.className = `w-full text-left p-3 rounded-lg transition-colors ${index === 0 ? 'accent-bg text-white' : 'hover:bg-gray-100'}`;
                button.dataset.role = roleName;
                button.addEventListener('click', () => {
                    document.querySelectorAll('#roleSelector button').forEach(btn => {
                        btn.classList.remove('accent-bg', 'text-white');
                        btn.classList.add('hover:bg-gray-100');
                    });
                    button.classList.add('accent-bg', 'text-white');
                    button.classList.remove('hover:bg-gray-100');
                    updateRoleInfo(roleName);
                });
                roleSelector.appendChild(button);
            });
            
            updateRoleInfo(Object.keys(rolesData)[0]);
            
            const companiesHiringData = [
                { name: 'ã‚ªãƒªãƒƒã‚¯ã‚¹', salary: '320,000å††', eligibility: 'é™¢å’å¾Œ3å¹´ä»¥å†…', type: 'ãƒªãƒ¼ã‚¹', note: 'ç·åˆè·æ¡ç”¨ã€‚è¼¸é€æ©Ÿå™¨äº‹æ¥­é…å±ã®å¯èƒ½æ€§ã‚ã‚Šã€‚'},
                { name: 'ä¸‰è±HCã‚­ãƒ£ãƒ”ã‚¿ãƒ«', salary: '320,000å††', eligibility: 'é™¢å’è¦‹è¾¼/æ—¢å’', type: 'ãƒªãƒ¼ã‚¹', note: 'ãƒ“ã‚¸ãƒã‚¹ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«è·ã€‚å…¨å›½ãƒ»æµ·å¤–è»¢å‹¤ã‚ã‚Šã€‚'},
                { name: 'SMFL', salary: '305,000å††', eligibility: 'é™¢å’å¯', type: 'ãƒªãƒ¼ã‚¹', note: 'ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³éƒ¨é–€ã‚ã‚Šã€‚ç°¿è¨˜3ç´šå¿…é ˆã€‚'},
                { name: 'åŒæ—¥', salary: '340,000å††', eligibility: 'é™¢å’è¦‹è¾¼/æ—¢å’', type: 'å•†ç¤¾', note: 'ç·åˆè·æ¡ç”¨ã€‚èˆªç©ºãƒ»ç¤¾ä¼šã‚¤ãƒ³ãƒ•ãƒ©æœ¬éƒ¨ãªã©ã€‚'},
                { name: 'FPG', salary: '290,000å††', eligibility: 'é™¢å’è¦‹è¾¼/æ—¢å’', type: 'å°‚é–€é‡‘è', note: 'ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒŠãƒ³ã‚¹è·ã§å°‚é–€æ€§ã‚’ç£¨ã‘ã‚‹ã€‚'},
                { name: 'SUBARU', salary: '288,000å††', eligibility: 'é™¢å’å¯', type: 'ãƒ¡ãƒ¼ã‚«ãƒ¼', note: 'èˆªç©ºå®‡å®™ã‚«ãƒ³ãƒ‘ãƒ‹ãƒ¼ã§ä¼ç”»ãƒ»ç®¡ç†ç­‰ã®æ¥­å‹™ã€‚'}
            ];
            
            const companyGrid = document.getElementById('companyGrid');
            companiesHiringData.forEach(company => {
                const card = document.createElement('div');
                card.className = 'company-card bg-warm-neutral p-5 rounded-lg border border-gray-200';
                card.innerHTML = `
                    <h4 class="text-lg font-bold text-primary">${company.name}</h4>
                    <span class="text-xs font-semibold ${company.type === 'ãƒªãƒ¼ã‚¹' ? 'bg-blue-100 text-blue-800' : (company.type === 'å•†ç¤¾' ? 'bg-green-100 text-green-800' : (company.type === 'ãƒ¡ãƒ¼ã‚«ãƒ¼' ? 'bg-yellow-100 text-yellow-800' : 'bg-purple-100 text-purple-800'))} px-2 py-0.5 rounded-full">${company.type}</span>
                    <div class="mt-4 space-y-2">
                        <p class="text-sm"><strong class="text-secondary">é™¢å’åˆä»»çµ¦:</strong> ${company.salary}</p>
                        <p class="text-sm"><strong class="text-secondary">å¿œå‹Ÿè³‡æ ¼:</strong> ${company.eligibility}</p>
                        <p class="text-xs text-secondary mt-2">${company.note}</p>
                    </div>
                `;
                companyGrid.appendChild(card);
            });
            
            const risksData = [
                {
                    title: 'èˆªç©ºä¼šç¤¾ã®ä¿¡ç”¨ãƒªã‚¹ã‚¯',
                    content: 'ãƒªãƒ¼ã‚¹å…ˆã®èˆªç©ºä¼šç¤¾ã®çµŒå–¶ãŒæ‚ªåŒ–ã—ã€ãƒªãƒ¼ã‚¹æ–™ã®æ”¯æ‰•ã„ãŒæ»ã‚‹ãƒªã‚¹ã‚¯ã§ã™ã€‚å¯¾ç­–ã¨ã—ã¦ã€ãƒªãƒ¼ã‚¹å…ˆå¤‰æ›´äº¤æ¸‰ã‚„æ©Ÿä½“å›åã€å†ãƒªãƒ¼ã‚¹ãªã©ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ãŒã€è¿½åŠ è² æ‹…ãŒç”Ÿã˜ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚'
                },
                {
                    title: 'èˆªç©ºæ©Ÿã®äº‹æ•…ãƒªã‚¹ã‚¯',
                    content: 'æ©Ÿä½“ãã®ã‚‚ã®ãŒæå®³ã‚’å—ã‘ã‚‹ãƒªã‚¹ã‚¯ã§ã™ã€‚åŸå‰‡ã¨ã—ã¦èˆªç©ºæ©Ÿä¿é™ºã§ã‚«ãƒãƒ¼ã•ã‚Œã¾ã™ãŒã€å…¨æã®å ´åˆã¯ãƒªãƒ¼ã‚¹å¥‘ç´„ãŒå¼·åˆ¶çµ‚äº†ã¨ãªã‚Šã€æƒ³å®šæœŸé–“ã§ã®æŠ•è³‡ãŒçµ‚äº†ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚'
                },
                {
                    title: 'ç‡ƒæ–™è²»å¤‰å‹•ãƒªã‚¹ã‚¯',
                    content: 'ã‚¸ã‚§ãƒƒãƒˆç‡ƒæ–™è²»ã®é«˜é¨°ãŒèˆªç©ºä¼šç¤¾ã®åç›Šã‚’åœ§è¿«ã™ã‚‹ãƒªã‚¹ã‚¯ã§ã™ã€‚æœ‰åŠ¹ãªå¯¾ç­–ã¨ã—ã¦ã€ãƒ‡ãƒªãƒãƒ†ã‚£ãƒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³å–å¼•ã‚„ã‚¹ãƒ¯ãƒƒãƒ—ï¼‰ã‚’ç”¨ã„ãŸãƒ˜ãƒƒã‚¸æˆ¦ç•¥ãŒã‚ã‚Šã€å°†æ¥ã®æ”¯å‡ºã‚’å®‰å®šã•ã›ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚'
                }
            ];

            const riskAccordion = document.getElementById('riskAccordion');
            risksData.forEach(risk => {
                const item = document.createElement('div');
                item.className = 'bg-card rounded-lg shadow-sm overflow-hidden';
                item.innerHTML = `
                    <button class="w-full text-left p-5 flex justify-between items-center font-bold text-primary hover:bg-gray-50 transition-colors">
                        <span>${risk.title}</span>
                        <span class="transform transition-transform text-secondary text-xl">â–¼</span>
                    </button>
                    <div class="px-5 pb-5 text-secondary text-sm hidden">
                        <p>${risk.content}</p>
                    </div>
                `;
                riskAccordion.appendChild(item);
            });

            riskAccordion.addEventListener('click', (e) => {
                const button = e.target.closest('button');
                if (!button) return;

                const content = button.nextElementSibling;
                const icon = button.querySelector('span:last-child');
                
                const isVisible = !content.classList.contains('hidden');
                
                if(isVisible) {
                    content.classList.add('hidden');
                    icon.style.transform = 'rotate(0deg)';
                } else {
                    content.classList.remove('hidden');
                    icon.style.transform = 'rotate(180deg)';
                }
            });

            // Gemini API Integration for Interview Questions
            async function generateInterviewQuestions(roleName, roleDescriptionText) {
                interviewQuestionsContent.innerHTML = '<div class="loading-spinner"></div><p class="text-center text-secondary mt-4">è³ªå•ã‚’ç”Ÿæˆä¸­...</p>';
                interviewQuestionsModal.style.display = 'flex'; // Show modal

                const prompt = `ã‚ãªãŸã¯èˆªç©ºæ©ŸæŠ•è³‡æ¥­ç•Œã®çµŒé¨“è±Šå¯Œãªæ¡ç”¨æ‹…å½“è€…ã§ã™ã€‚ä»¥ä¸‹ã®è·ç¨®ã«ã¤ã„ã¦ã€å¤§å­¦é™¢ç”ŸãŒé¢æ¥ã§èã‹ã‚Œã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹è³ªå•ã‚’5ã¤ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚è³ªå•ã¯å…·ä½“çš„ã«ã—ã€å˜ãªã‚‹ã‚¹ã‚­ãƒ«ã ã‘ã§ãªãã€æ¥­ç•Œã¸ã®ç†è§£ã‚„æ€è€ƒåŠ›ã‚’å•ã†ã‚‚ã®ã‚’å«ã‚ã¦ãã ã•ã„ã€‚\n\nè·ç¨®å: ${roleName}\nè·å‹™å†…å®¹: ${roleDescriptionText}\n\nè³ªå•ãƒªã‚¹ãƒˆ:`;

                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = "" // If you want to use models other than gemini-2.0-flash or imagen-3.0-generate-002, provide an API key here. Otherwise, leave this as-is.
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        // Format the text into a list
                        const questionsHtml = text.split('\n').filter(line => line.trim() !== '').map(line => `<li class="mb-2 text-secondary">${line.trim()}</li>`).join('');
                        interviewQuestionsContent.innerHTML = `<ul class="list-disc list-inside text-left">${questionsHtml}</ul>`;
                    } else {
                        interviewQuestionsContent.innerHTML = '<p class="text-center text-red-500">è³ªå•ã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚</p>';
                    }
                } catch (error) {
                    console.error('Error generating interview questions:', error);
                    interviewQuestionsContent.innerHTML = '<p class="text-center text-red-500">ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’ç¢ºèªã—ã€å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚</p>';
                }
            }

            // Modal close functionality
            closeButton.addEventListener('click', () => {
                interviewQuestionsModal.style.display = 'none';
            });

            window.addEventListener('click', (event) => {
                if (event.target === interviewQuestionsModal) {
                    interviewQuestionsModal.style.display = 'none';
                }
            });

            function showInterviewQuestionsModal(roleName, roleDescriptionText) {
                generateInterviewQuestions(roleName, roleDescriptionText);
            }
        });
    </script>
</body>
</html>
